# Stage 4 Implementation - Generator Output Example

This file demonstrates the output of the new `GenerateHelpFile` function.

## Basic Configuration

```go
config := &GeneratorConfig{
    DefaultCategory: "Misc",
}
targets := []string{"build", "test"}
```

### Generated Output:

```makefile
# Generated by make-help. DO NOT EDIT.
# Regenerate with: make-help --create-help-target --default-category Misc

GOBIN ?= .bin
MAKE_HELP_BIN := $(GOBIN)/make-help
MAKE_HELP_OPTS := --default-category Misc
MAKE_HELP_CMD := $(MAKE_HELP_BIN) $(MAKE_HELP_OPTS)

$(MAKE_HELP_BIN):
	GOBIN=$(abspath $(GOBIN)) go install github.com/sdlcforge/make-help/cmd/make-help@latest

.PHONY: help
## Displays help summary.
help: $(MAKE_HELP_BIN)
	@$(MAKE_HELP_CMD)

.PHONY: help-build
help-build: $(MAKE_HELP_BIN)
	@$(MAKE_HELP_CMD) --target build

.PHONY: help-test
help-test: $(MAKE_HELP_BIN)
	@$(MAKE_HELP_CMD) --target test
```

## With Version Pinning

```go
config := &GeneratorConfig{
    Version: "v1.2.3",
}
targets := []string{"build"}
```

### Generated Output:

```makefile
# Generated by make-help. DO NOT EDIT.
# Regenerate with: make-help --create-help-target --version v1.2.3

GOBIN ?= .bin
MAKE_HELP_BIN := $(GOBIN)/make-help
MAKE_HELP_OPTS :=
MAKE_HELP_CMD := $(MAKE_HELP_BIN) $(MAKE_HELP_OPTS)

$(MAKE_HELP_BIN):
	GOBIN=$(abspath $(GOBIN)) go install github.com/sdlcforge/make-help/cmd/make-help@v1.2.3

.PHONY: help
## Displays help summary.
help: $(MAKE_HELP_BIN)
	@$(MAKE_HELP_CMD)

.PHONY: help-build
help-build: $(MAKE_HELP_BIN)
	@$(MAKE_HELP_CMD) --target build
```

## With All Options

```go
config := &GeneratorConfig{
    KeepOrderCategories: true,
    KeepOrderTargets:    true,
    CategoryOrder:       []string{"Build", "Test", "Deploy"},
    DefaultCategory:     "Misc",
    IncludeTargets:      []string{"lint", "fmt"},
    IncludeAllPhony:     true,
    Version:             "v2.0.0",
}
targets := []string{"build", "test"}
```

### Generated Output:

```makefile
# Generated by make-help. DO NOT EDIT.
# Regenerate with: make-help --create-help-target --version v2.0.0 --keep-order-categories --keep-order-targets --category-order Build,Test,Deploy --default-category Misc --include-target lint --include-target fmt --include-all-phony

GOBIN ?= .bin
MAKE_HELP_BIN := $(GOBIN)/make-help
MAKE_HELP_OPTS := --keep-order-categories --keep-order-targets --category-order Build,Test,Deploy --default-category Misc --include-target lint --include-target fmt --include-all-phony
MAKE_HELP_CMD := $(MAKE_HELP_BIN) $(MAKE_HELP_OPTS)

$(MAKE_HELP_BIN):
	GOBIN=$(abspath $(GOBIN)) go install github.com/sdlcforge/make-help/cmd/make-help@v2.0.0

.PHONY: help
## Displays help summary.
help: $(MAKE_HELP_BIN)
	@$(MAKE_HELP_CMD)

.PHONY: help-build
help-build: $(MAKE_HELP_BIN)
	@$(MAKE_HELP_CMD) --target build

.PHONY: help-test
help-test: $(MAKE_HELP_BIN)
	@$(MAKE_HELP_CMD) --target test
```

## Key Features

1. **Conditional GOBIN assignment** - Uses `?=` so users can override
2. **Project-local binary** - Installed to `.bin/make-help` by default
3. **Binary target is NOT .PHONY** - Only rebuilds if binary is missing
4. **All help targets ARE .PHONY** - Always re-run when requested
5. **Version pinning** - Can specify exact version or use `@latest`
6. **Regeneration command** - Header includes all flags for easy regeneration
7. **Per-target help** - Generates `help-<target>` for each documented target
